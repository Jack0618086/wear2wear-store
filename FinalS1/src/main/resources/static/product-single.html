<!DOCTYPE html>
<html lang="en">
<head>
<title>Vegefoods - Free Bootstrap 4 Template by Colorlib</title>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link
	href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800&display=swap"
	rel="stylesheet">
<link
	href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i&display=swap"
	rel="stylesheet">
<link
	href="https://fonts.googleapis.com/css?family=Amatic+SC:400,700&display=swap"
	rel="stylesheet">

<link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
<link rel="stylesheet" href="css/animate.css">

<link rel="stylesheet" href="css/owl.carousel.min.css">
<link rel="stylesheet" href="css/owl.theme.default.min.css">
<link rel="stylesheet" href="css/magnific-popup.css">

<link rel="stylesheet" href="css/aos.css">

<link rel="stylesheet" href="css/ionicons.min.css">

<link rel="stylesheet" href="css/bootstrap-datepicker.css">
<link rel="stylesheet" href="css/jquery.timepicker.css">


<link rel="stylesheet" href="css/flaticon.css">
<link rel="stylesheet" href="css/icomoon.css">
<link rel="stylesheet" href="css/style.css">


<style>
#carouselExampleIndicators {
	max-width: 500px;
	margin: 0 auto; /* 圖片居中 */
}

/* 調整標題和內容的間距 */
.product-info {
	padding-left: 20px; /* 給右邊內容區域一些內距 */
	margin-top: 20px;
}

.product-info h1 {
	font-size: 32px;
	margin-bottom: 20px;
}

.product-price {
	font-size: 24px;
	color: #888;
	margin-bottom: 10px;
}

.product-select {
	margin-bottom: 15px; /* 增加選項之間的間距 */
}

/* 優化按鈕樣式 */
#add-to-cart {
	background-color: #28a745;
	color: white;
	border-radius: 5px;
	padding: 10px 20px;
	font-size: 18px;
	transition: background-color 0.3s ease;
}

#add-to-cart:hover {
	background-color: #218838;
}

/* 表格樣式調整 */
.table {
	margin-top: 30px;
}

.table th, .table td {
	text-align: center;
	vertical-align: middle;
}

/* 調整 select 框的寬度 */
.product-select .form-select {
	width: 100%; /* 讓 select 框自動填滿父容器的寬度 */
	max-width: 400px; /* 限制最大寬度，防止過寬 */
	padding: 10px; /* 增加內部間距，讓選單看起來更舒適 */
	font-size: 16px; /* 調整字體大小 */
	border-radius: 5px; /* 圓角邊框 */
	border: 1px solid #ccc; /* 增加邊框樣式 */
}

/* 調整 product-select 的整體間距 */
.product-select {
	margin-bottom: 20px; /* 增加選項之間的距離 */
}

.carousel-indicators {
	display: none; /* 隱藏每個指示器 */
}
</style>


</head>
<body class="goto-here">
	<div class="container">
		<div>
			<form action="#" class="search-form">
				<div class="form-group">
					<span class="icon ion-ios-search"></span> <input type="text"
						class="form-control" placeholder="搜尋...">
				</div>
			</form>
		</div>
	</div>
	<nav
		class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light"
		id="ftco-navbar">
		<div class="container">

			<a class="navbar-brand" href="Home.html">WEARTOWEAR</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#ftco-nav" aria-controls="ftco-nav"
				aria-expanded="false" aria-label="Toggle navigation">
				<span class="oi oi-menu"></span> Menu
			</button>

			<div class="collapse navbar-collapse col" id="ftco-nav">
				<ul class="navbar-nav ml-auto">
					<li class="nav-item active"><a href="Home.html"
						class="nav-link">首頁</a></li>
					<li class="nav-item"><a href="AboutUs.html" class="nav-link">關於我們</a></li>

					<li class="nav-item dropdown"><a
						class="nav-link dropdown-toggle" href="shop.html" id="dropdown04"
						data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">商品</a>
						<div class="dropdown-menu" aria-labelledby="dropdown04">
							<a class="dropdown-item" href="shop.html">所有商品</a> <a
								class="dropdown-item" href="shop.html?categoryid=1">男裝</a> <a
								class="dropdown-item" href="shop.html?categoryid=2">女裝</a> <a
								class="dropdown-item" href="shop.html?categoryid=3">童裝</a>
						</div></li>

					<!-- <li class="nav-item"><a href="blog.html" class="nav-link">Blog</a></li> -->
					<li class="nav-item"><a href="contact.html" class="nav-link">聯繫我們</a></li>

					<li class="nav-item cta cta-colored"><a href=""
						class="nav-link"><span class="icon-person"></span></a></li>
					<li class="nav-item cta cta-colored"><a href="wishlist.html"
						class="nav-link"><span class="icon-heart"></span></a></li>
					<li class="nav-item cta cta-colored"><a href="cart.html"
						class="nav-link"><span class="icon-shopping_cart"></span>[0]</a></li>

				</ul>
			</div>
		</div>
	</nav>
	<!-- END nav -->

	<div class="hero-wrap hero-bread"
		style="background-image: url('./Picture/SliderPic1.png');">
		<div class="container">
			<div
				class="row no-gutters slider-text align-items-center justify-content-center">
				<div class="col-md-9 ftco-animate text-center">
					<p class="breadcrumbs">
						<span class="mr-2"><a href="index.html">Home</a></span> <span
							class="mr-2"><a href="index.html">Product</a></span> <span>Product
							Single</span>
					</p>
					<h1 class="mb-0 bread">Product Single</h1>
				</div>
			</div>
		</div>
	</div>



	<div class="container product-page">
		<div class="row">
			<!-- 圖片區域 -->
			<div class="col-md-6">
				<div id="carouselExampleIndicators" class="carousel slide"
					data-ride="carousel">
					<!-- 輪播指示器 -->
					<ol class="carousel-indicators" id="carousel-indicators">
						<li data-target="#carouselExampleIndicators" data-slide-to="0"
							class="active"></li>
						<li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
						<li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
					</ol>

					<!-- 輪播圖片區域 -->
					<div class="carousel-inner" id="carousel-inner">
						<div class="carousel-item active">
							<img src="https://via.placeholder.com/600x400"
								class="d-block w-100" alt="First slide">
						</div>
						<div class="carousel-item">
							<img src="https://via.placeholder.com/600x400"
								class="d-block w-100" alt="Second slide">
						</div>
						<div class="carousel-item">
							<img src="https://via.placeholder.com/600x400"
								class="d-block w-100" alt="Third slide">
						</div>
					</div>

					<!-- 左右切換按鈕 -->
					<a class="carousel-control-prev" href="#carouselExampleIndicators"
						role="button" data-slide="prev"> <span
						class="carousel-control-prev-icon" aria-hidden="true"></span> <span
						class="sr-only">Previous</span>
					</a> <a class="carousel-control-next" href="#carouselExampleIndicators"
						role="button" data-slide="next"> <span
						class="carousel-control-next-icon" aria-hidden="true"></span> <span
						class="sr-only">Next</span>
					</a>
				</div>
			</div>

			<!-- 商品詳情區域 -->
			<div class="col-md-6">
				<div class="product-info">
					<h1 id="product-name" class="product-title"></h1>
					<p id="price" class="product-price"></p>

					<div class="product-select">
						<label for="color-select">顏色</label> <select id="color-select"
							class="form-select"></select>
					</div>
					<div class="product-select">
						<label for="size-select">尺寸</label> <select id="size-select"
							class="form-select"></select>
					</div>

					<div class="input-group col-md-6 d-flex mb-3">
							<span class="input-group-btn mr-2">
								<button type="button" class="quantity-left-minus btn"
									data-type="minus" data-field="">
									<i class="ion-ios-remove"></i>
								</button>
							</span> <input type="text" id="quantity" name="quantity"
								class="form-control input-number" value="1" min="1" max="100">
							<span class="input-group-btn ml-2">
								<button type="button" class="quantity-right-plus btn"
									data-type="plus" data-field="">
									<i class="ion-ios-add"></i>
								</button>
							</span>
						</div>
					<div>
						<p>
							庫存: <span id="stock"></span>
						</p>
					</div>
					<div>
						<p>
							商品描述: <span id="description"></span>
						</p>
					</div>

					<button id="add-to-cart" class="btn btn-primary btn-lg mt-3">加入購物車</button>
				</div>
			</div>
		</div>

		<!-- 新增尺寸表 -->
		<div class="row mt-5">
			<div class="col-12">
				<h3>尺寸表</h3>
				<table class="table table-bordered">
					<thead>
						<tr>
							<th>尺寸</th>
							<th>肩寬 (cm)</th>
							<th>胸圍 (cm)</th>
							<th>衣長 (cm)</th>
							<th>袖長 (cm)</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>S</td>
							<td>45</td>
							<td>100</td>
							<td>70</td>
							<td>20</td>
						</tr>
						<tr>
							<td>M</td>
							<td>47</td>
							<td>104</td>
							<td>72</td>
							<td>21</td>
						</tr>
						<tr>
							<td>L</td>
							<td>49</td>
							<td>108</td>
							<td>74</td>
							<td>22</td>
						</tr>
						<tr>
							<td>XL</td>
							<td>51</td>
							<td>112</td>
							<td>76</td>
							<td>24</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>












	<section class="ftco-section">
		<div class="container">
			<div class="row">
				<div class="col-lg-6 mb-5 ftco-animate">
					<a href="images/product-1.jpg" class="image-popup"><img
						src="./images/Lowerbody/Men/paints17.png" class="img-fluid"
						alt="Colorlib Template"></a>
				</div>
				<div class="col-lg-6 product-details pl-md-5 ftco-animate">
					<h3>ACG paint</h3>
					<div class="rating d-flex">
						<p class="text-left mr-4">
							<a href="#" class="mr-2">5.0</a> <a href="#"><span
								class="ion-ios-star-outline"></span></a> <a href="#"><span
								class="ion-ios-star-outline"></span></a> <a href="#"><span
								class="ion-ios-star-outline"></span></a> <a href="#"><span
								class="ion-ios-star-outline"></span></a> <a href="#"><span
								class="ion-ios-star-outline"></span></a>
						</p>
						<p class="text-left mr-4">
							<a href="#" class="mr-2" style="color: #000;">100 <span
								style="color: #bbb;">Rating</span></a>
						</p>
						<p class="text-left">
							<a href="#" class="mr-2" style="color: #000;">500 <span
								style="color: #bbb;">Sold</span></a>
						</p>
					</div>
					<p class="price">
						<span>$120.00</span>
					</p>
					<p>A small river named Duden flows by their place and supplies
						it with the necessary regelialia. It is a paradisematic country,
						in which roasted parts of sentences fly into your mouth. Text
						should turn around and return to its own, safe country. But
						nothing the copy said could convince her and so it didn’t take
						long until.</p>
					<div class="row mt-4">
						<div class="col-md-6">
							<div class="form-group d-flex">
								<div class="select-wrap">
									<div class="icon">
										<span class="ion-ios-arrow-down"></span>
									</div>
									<select name="" id="" class="form-control">
										<option value="">Small</option>
										<option value="">Medium</option>
										<option value="">Large</option>
										<option value="">Extra Large</option>
									</select>
								</div>
							</div>
						</div>
						<div class="w-100"></div>
						<div class="input-group col-md-6 d-flex mb-3">
							<span class="input-group-btn mr-2">
								<button type="button" class="quantity-left-minus btn"
									data-type="minus" data-field="">
									<i class="ion-ios-remove"></i>
								</button>
							</span> <input type="text" id="quantity" name="quantity"
								class="form-control input-number" value="1" min="1" max="100">
							<span class="input-group-btn ml-2">
								<button type="button" class="quantity-right-plus btn"
									data-type="plus" data-field="">
									<i class="ion-ios-add"></i>
								</button>
							</span>
						</div>
						<div class="w-100"></div>
						<div class="col-md-12">
							<p style="color: #000;">600 kg available</p>
						</div>
					</div>
					<p>
						<a href="cart.html" class="btn btn-black py-3 px-5">Add to
							Cart</a>
					</p>
				</div>
			</div>
		</div>
	</section>

	<section class="ftco-section">
		<div class="container">
			<div class="row justify-content-center mb-3 pb-3">
				<div class="col-md-12 heading-section text-center ftco-animate">
					<span class="subheading">Products</span>
					<h2 class="mb-4">店長推薦</h2>

				</div>
			</div>
		</div>
		<div class="container">
			<div class="row" id="product-list">
				<!-- 商品列表將動態插入到這裡 -->
			</div>
		</div>




		<!--  	<div class="container">
			<div class="row">
				<div class="col-md-6 col-lg-3 ftco-animate">
					<div class="product">
						<a href="#" class="img-prod"><img class="img-fluid" src=""
							alt="Colorlib Template"> <span class="status">30%</span>
							<div class="overlay"></div> </a>
						<div class="text py-3 pb-4 px-3 text-center">
							<h3>
								<a href="#">Black Paint</a>
							</h3>
							<div class="d-flex">
								<div class="pricing">
									<p class="price">
										<span class="mr-2 price-dc">$120.00</span><span
											class="price-sale">$80.00</span>
									</p>
								</div>
							</div>
							<div class="bottom-area d-flex px-3">
								<div class="m-auto d-flex">
									<a href="#"
										class="add-to-cart d-flex justify-content-center align-items-center text-center">
										<span><i class="ion-ios-menu"></i></span>
									</a> <a href="#"
										class="buy-now d-flex justify-content-center align-items-center mx-1">
										<span><i class="ion-ios-cart"></i></span>
									</a> <a href="#"
										class="heart d-flex justify-content-center align-items-center ">
										<span><i class="ion-ios-heart"></i></span>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-6 col-lg-3 ftco-animate">
					<div class="product">
						<a href="#" class="img-prod"><img class="img-fluid" src=""
							alt="Colorlib Template">
							<div class="overlay"></div> </a>
						<div class="text py-3 pb-4 px-3 text-center">
							<h3>
								<a href="#">Green Paint</a>
							</h3>
							<div class="d-flex">
								<div class="pricing">
									<p class="price">
										<span>$120.00</span>
									</p>
								</div>
							</div>
							<div class="bottom-area d-flex px-3">
								<div class="m-auto d-flex">
									<a href="#"
										class="add-to-cart d-flex justify-content-center align-items-center text-center">
										<span><i class="ion-ios-menu"></i></span>
									</a> <a href="#"
										class="buy-now d-flex justify-content-center align-items-center mx-1">
										<span><i class="ion-ios-cart"></i></span>
									</a> <a href="#"
										class="heart d-flex justify-content-center align-items-center ">
										<span><i class="ion-ios-heart"></i></span>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-6 col-lg-3 ftco-animate">
					<div class="product">
						<a href="#" class="img-prod"><img class="img-fluid" src=""
							alt="Colorlib Template">
							<div class="overlay"></div> </a>
						<div class="text py-3 pb-4 px-3 text-center">
							<h3>
								<a href="#">Grey Paint</a>
							</h3>
							<div class="d-flex">
								<div class="pricing">
									<p class="price">
										<span>$120.00</span>
									</p>
								</div>
							</div>
							<div class="bottom-area d-flex px-3">
								<div class="m-auto d-flex">
									<a href="#"
										class="add-to-cart d-flex justify-content-center align-items-center text-center">
										<span><i class="ion-ios-menu"></i></span>
									</a> <a href="#"
										class="buy-now d-flex justify-content-center align-items-center mx-1">
										<span><i class="ion-ios-cart"></i></span>
									</a> <a href="#"
										class="heart d-flex justify-content-center align-items-center ">
										<span><i class="ion-ios-heart"></i></span>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-6 col-lg-3 ftco-animate">
					<div class="product">
						<a href="#" class="img-prod"><img class="img-fluid" src=""
							alt="Colorlib Template">
							<div class="overlay"></div> </a>
						<div class="text py-3 pb-4 px-3 text-center">
							<h3>
								<a href="#">White Paint</a>
							</h3>
							<div class="d-flex">
								<div class="pricing">
									<p class="price">
										<span>$120.00</span>
									</p>
								</div>
							</div>
							<div class="bottom-area d-flex px-3">
								<div class="m-auto d-flex">
									<a href="#"
										class="add-to-cart d-flex justify-content-center align-items-center text-center">
										<span><i class="ion-ios-menu"></i></span>
									</a> <a href="#"
										class="buy-now d-flex justify-content-center align-items-center mx-1">
										<span><i class="ion-ios-cart"></i></span>
									</a> <a href="#"
										class="heart d-flex justify-content-center align-items-center ">
										<span><i class="ion-ios-heart"></i></span>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>-->
	</section>

	<section class="ftco-section ftco-no-pt ftco-no-pb py-5 bg-light">
		<div class="container py-4">
			<div class="row d-flex justify-content-center py-5">
				<div class="col-md-6">
					<h2 style="font-size: 22px;" class="mb-0">Subcribe to our
						Newsletter</h2>
					<span>Get e-mail updates about our latest shops and special
						offers</span>
				</div>
				<div class="col-md-6 d-flex align-items-center">
					<form action="#" class="subscribe-form">
						<div class="form-group d-flex">
							<input type="text" class="form-control"
								placeholder="Enter email address"> <input type="submit"
								value="Subscribe" class="submit px-3">
						</div>
					</form>
				</div>
			</div>
		</div>
	</section>
	<footer class="ftco-footer ftco-section">
		<div class="container">
			<div class="row">
				<div class="mouse">
					<a href="#" class="mouse-icon">
						<div class="mouse-wheel">
							<span class="ion-ios-arrow-up"></span>
						</div>
					</a>
				</div>
			</div>
			<div class="row mb-5">
				<div class="col-md">
					<div class="ftco-footer-widget mb-4">
						<h2 class="ftco-heading-2">Vegefoods</h2>
						<p>Far far away, behind the word mountains, far from the
							countries Vokalia and Consonantia.</p>
						<ul
							class="ftco-footer-social list-unstyled float-md-left float-lft mt-5">
							<li class="ftco-animate"><a href="#"><span
									class="icon-twitter"></span></a></li>
							<li class="ftco-animate"><a href="#"><span
									class="icon-facebook"></span></a></li>
							<li class="ftco-animate"><a href="#"><span
									class="icon-instagram"></span></a></li>
						</ul>
					</div>
				</div>
				<div class="col-md">
					<div class="ftco-footer-widget mb-4 ml-md-5">
						<h2 class="ftco-heading-2">Menu</h2>
						<ul class="list-unstyled">
							<li><a href="#" class="py-2 d-block">Shop</a></li>
							<li><a href="#" class="py-2 d-block">About</a></li>
							<li><a href="#" class="py-2 d-block">Journal</a></li>
							<li><a href="#" class="py-2 d-block">Contact Us</a></li>
						</ul>
					</div>
				</div>
				<div class="col-md-4">
					<div class="ftco-footer-widget mb-4">
						<h2 class="ftco-heading-2">Help</h2>
						<div class="d-flex">
							<ul class="list-unstyled mr-l-5 pr-l-3 mr-4">
								<li><a href="#" class="py-2 d-block">Shipping
										Information</a></li>
								<li><a href="#" class="py-2 d-block">Returns &amp;
										Exchange</a></li>
								<li><a href="#" class="py-2 d-block">Terms &amp;
										Conditions</a></li>
								<li><a href="#" class="py-2 d-block">Privacy Policy</a></li>
							</ul>
							<ul class="list-unstyled">
								<li><a href="#" class="py-2 d-block">FAQs</a></li>
								<li><a href="#" class="py-2 d-block">Contact</a></li>
							</ul>
						</div>
					</div>
				</div>
				<div class="col-md">
					<div class="ftco-footer-widget mb-4">
						<h2 class="ftco-heading-2">Have a Questions?</h2>
						<div class="block-23 mb-3">
							<ul>
								<li><span class="icon icon-map-marker"></span><span
									class="text">203 Fake St. Mountain View, San Francisco,
										California, USA</span></li>
								<li><a href="#"><span class="icon icon-phone"></span><span
										class="text">+2 392 3929 210</span></a></li>
								<li><a href="#"><span class="icon icon-envelope"></span><span
										class="text">info@yourdomain.com</span></a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12 text-center">

					<p>
						<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
						Copyright &copy;
						<script>document.write(new Date().getFullYear());</script>
						All rights reserved | This template is made with <i
							class="icon-heart color-danger" aria-hidden="true"></i> by <a
							href="https://colorlib.com" target="_blank">Colorlib</a>
						<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
					</p>
				</div>
			</div>
		</div>
	</footer>



	<!-- loader -->
	<div id="ftco-loader" class="show fullscreen">
		<svg class="circular" width="48px" height="48px">
			<circle class="path-bg" cx="24" cy="24" r="22" fill="none"
				stroke-width="4" stroke="#eeeeee" />
			<circle class="path" cx="24" cy="24" r="22" fill="none"
				stroke-width="4" stroke-miterlimit="10" stroke="#F96D00" /></svg>
	</div>


	<script src="js/jquery.min.js"></script>
	<script src="js/jquery-migrate-3.0.1.min.js"></script>
	<script src="js/popper.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/jquery.easing.1.3.js"></script>
	<script src="js/jquery.waypoints.min.js"></script>
	<script src="js/jquery.stellar.min.js"></script>
	<script src="js/owl.carousel.min.js"></script>
	<script src="js/jquery.magnific-popup.min.js"></script>
	<script src="js/aos.js"></script>
	<script src="js/jquery.animateNumber.min.js"></script>
	<script src="js/bootstrap-datepicker.js"></script>
	<script src="js/scrollax.min.js"></script>
	<script
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
	<script src="js/google-map.js"></script>
	<script src="js/main.js"></script>

	<script>
		$(document).ready(function(){

		var quantitiy=0;
		   $('.quantity-right-plus').click(function(e){
		        
		        // Stop acting like a button
		        e.preventDefault();
		        // Get the field name
		        var quantity = parseInt($('#quantity').val());
		        
		        // If is not undefined
		            
		            $('#quantity').val(quantity + 1);

		          
		            // Increment
		        
		    });

		     $('.quantity-left-minus').click(function(e){
		        // Stop acting like a button
		        e.preventDefault();
		        // Get the field name
		        var quantity = parseInt($('#quantity').val());
		        
		        // If is not undefined
		      
		            // Increment
		            if(quantity>0){
		            $('#quantity').val(quantity - 1);
		            }
		    });
		    
		});
		
		
		
		document.addEventListener("DOMContentLoaded", function() {
		    // 從 URL 中獲取 productId
		    const urlParams = new URLSearchParams(window.location.search);
		    const productId = urlParams.get('productId');  // 動態獲取 productId

		    if (!productId) {
		        console.error('Product ID is missing in the URL');
		        return;
		    }

		    let initialColor, initialSize;

		    // 繼續進行 API 請求以獲取產品資料
		    fetch(`/product-variants/product/${productId}`)
		        .then(response => response.json())
		        .then(variants => {
		            if (variants.length > 0) {
		                const colorSelect = document.getElementById('color-select');
		                const sizeSelect = document.getElementById('size-select');
		                const priceElement = document.getElementById('price');
		                const stockElement = document.getElementById('stock');
		                const descriptionElement = document.getElementById('description');
		                const productName = document.getElementById('product-name');
		                
		                // 設定初始顏色和尺寸
		                initialColor = variants[0].color.name;
		                initialSize = variants[0].size.name;

		                // 顯示初始產品資訊
		                priceElement.innerText = `NT$${variants[0].price}`;
		                stockElement.innerText = variants[0].stock;
		                productName.innerText = variants[0].product.name;
		                descriptionElement.innerText = variants[0].product.description;

		                // 顯示初始輪播圖片
		                updateCarouselImages(variants[0]);

		                // 動態生成顏色和尺寸選項
		                populateSelectOptions(variants, colorSelect, 'color');
		                populateSelectOptions(variants, sizeSelect, 'size');

		                // 監聽顏色和尺寸的變更
		                colorSelect.addEventListener('change', updateProductDetails);
		                sizeSelect.addEventListener('change', updateProductDetails);
		                
		                updateProductDetails(); 
		            }
		        })
		        .catch(error => console.error('Error fetching variants:', error));

		    // 根據選擇的顏色更新輪播圖片
		    function updateCarouselImages(variant) {
		        const carouselInner = document.getElementById('carousel-inner');
		        const carouselIndicators = document.getElementById('carousel-indicators');

		        carouselInner.innerHTML = '';
		        carouselIndicators.innerHTML = '';

		        let images = [variant.image];
		        if (variant.image2) images.push(variant.image2);
		        if (variant.image3) images.push(variant.image3);

		        images.forEach((image, index) => {
		            // 輪播內的圖片
		            let carouselItem = document.createElement('div');
		            carouselItem.classList.add('carousel-item');
		            if (index === 0) carouselItem.classList.add('active');
		            carouselItem.innerHTML = `<img src="data:image/jpeg;base64,${image}" class="d-block w-100" alt="Product Image">`;
		            carouselInner.appendChild(carouselItem);

		            // 輪播指示器
		            let indicator = document.createElement('button');
		            indicator.type = "button";
		            indicator.dataset.bsTarget = "#carouselExampleIndicators";
		            indicator.dataset.bsSlideTo = index;
		            if (index === 0) indicator.classList.add('active');
		            indicator.setAttribute('aria-current', 'true');
		            indicator.setAttribute('aria-label', `Slide ${index + 1}`);
		            carouselIndicators.appendChild(indicator);
		        });
		    }

		    // 更新產品詳細資訊
		    function updateProductDetails() {
		        const selectedColor = document.getElementById('color-select').value || initialColor;
		        const selectedSize = document.getElementById('size-select').value || initialSize;

		        fetch(`/product-variants/product/${productId}`)
		            .then(response => response.json())
		            .then(variants => {
		                let selectedVariant = variants.find(variant => variant.color.name === selectedColor && variant.size.name === selectedSize);
		                if (selectedVariant) {
		                    document.getElementById('price').innerText = `NT$${selectedVariant.price}`;
		                    document.getElementById('stock').innerText = selectedVariant.stock;

		                    // 更新輪播圖片
		                    updateCarouselImages(selectedVariant);
		                }
		            })
		            .catch(error => console.error('Error fetching product details:', error));
		    }

		    // 動態生成顏色或尺寸選項的函數
		    function populateSelectOptions(variants, selectElement, property) {
		        const uniqueOptions = new Set(variants.map(variant => variant[property].name));
		        uniqueOptions.forEach(optionValue => {
		            const option = document.createElement('option');
		            option.value = optionValue;
		            option.innerText = optionValue;
		            selectElement.appendChild(option);
		        });
		    }
		});

		
		

		
		//推薦商品
		document.addEventListener("DOMContentLoaded", function() {
		    // 呼叫 API 獲取商品資料
		    function loadRandomProducts() {
		    fetch('/products')  // 替換為你的 API 路徑
		        .then(response => response.json())
		        .then(data => {
		            let productList = document.getElementById('product-list');
		            productList.innerHTML = ""; // 清空當前列表

		            // 隨機打亂商品數據並選擇前 4 個商品
		            let shuffledData = data.sort(() => 0.5 - Math.random());
		            let selectedProducts = shuffledData.slice(0, 4); // 選擇 4 個商品

		            // 動態插入商品資料
		            selectedProducts.forEach(product => {
	                    let productHTML = `
	                        <div class="col-md-6 col-lg-3 ftco-animate1">
	                            <div class="product">
	                                <a href="product-single.html?productId=${product.id}" class="img-prod">
	                                    <img class="img-fluid" src="data:image/jpeg;base64,${product.image}" alt="${product.name}">
	                                    <div class="overlay"></div>
	                                </a>
	                                <div class="text py-3 pb-4 px-3 text-center">
	                                    <h3><a href="product-single.html?productId=${product.id}">${product.name}</a></h3>
	                                    <div class="pricing">
	                                        <p class="price"><span class="price-sale">NT$${product.price}</span></p>
	                                    </div>
	                                    <div class="bottom-area d-flex px-3">
	    								<div class="m-auto d-flex">
	    								
	    									<a href="#" class="heart d-flex justify-content-center align-items-center ">
	    										<span><i class="ion-ios-heart"></i></span>
	    									</a>
	    								</div>
	    							</div>
	                                </div>

	                            </div>
	                        </div>
	                    `;
	                    productList.innerHTML += productHTML;
	                });

	                // 顯示所有被隱藏的 .ftco-animate 元素
	                let animatedElements = document.querySelectorAll('.ftco-animate1');
	                animatedElements.forEach(el => {
	                    el.style.opacity = 1;       // 顯示透明度
	                    el.style.visibility = 'visible';  // 取消隱藏
	                });
	            })
	           
	            .catch(error => console.error('Error fetching products:', error));
	    }

	    // 初始化隨機加載 4張商品
	    loadRandomProducts();
	});




		
		
	

	</script>

</body>
</html>